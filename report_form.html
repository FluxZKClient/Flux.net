<!--
  report-form.html
  Arquivo separado e independente do login-demo.
  Propósito: abrir o cliente de e-mail do usuário com destinatário EaeDoongg@gmail.com
  e opcionalmente com cópia (CC) para o seu próprio e‑mail — NÃO envia automaticamente.
-->
<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Report — Enviar para EaeDoongg@gmail.com</title>
  <style>
    :root{--accent:#25b7f2;--bg:#080808;--muted:#9a9a9a}
    *{box-sizing:border-box}
    body{font-family:Inter,Arial,Helvetica,sans-serif;background:linear-gradient(180deg,#050506,#0f0f12);color:#eee;display:flex;align-items:center;justify-content:center;height:100vh;margin:0;padding:20px}
    .card{width:100%;max-width:720px;background:rgba(255,255,255,0.03);padding:24px;border-radius:12px;box-shadow:0 14px 50px rgba(0,0,0,0.6)}
    h1{font-size:20px;margin-bottom:8px}
    .muted{color:var(--muted);font-size:13px;margin-bottom:14px}
    input, textarea{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:rgba(255,255,255,0.02);color:#fff;margin-bottom:12px;font-size:14px}
    .row{display:flex;gap:10px;margin-top:8px}
    button{padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
    .primary{background:var(--accent);color:#052a33}
    .secondary{background:#2a2a2a;color:#fff}
    .note{font-size:13px;color:var(--muted);margin-top:12px}
  </style>
</head>
<body>
  <div class="card">
    <h1>Relatar (página separada)</h1>
    <div class="muted">Escreva o que quer reportar. Ao clicar <strong>Enviar</strong> abriremos seu cliente de e‑mail com destinatário <code>EaeDoongg@gmail.com</code>. Se você fornecer seu próprio e‑mail abaixo, ele será adicionado como cópia (CC).</div>

    <label>Seu e‑mail (opcional, para receber resposta)</label>
    <input id="yourEmail" type="email" placeholder="seu@exemplo.com (opcional)">

    <label>Assunto</label>
    <input id="subject" type="text" placeholder="Assunto do relato">

    <label>Mensagem</label>
    <textarea id="message" placeholder="Descreva o que quer reportar..." rows="8"></textarea>

    <div class="row">
      <button id="send" class="primary">Enviar</button>
      <button id="copy" class="secondary">Copiar</button>
      <button id="clear" style="background:#4b4b4b;color:#fff">Limpar</button>
    </div>

    <div class="note">Observação: por motivos de segurança e privacidade, o navegador NÃO envia e‑mails automaticamente. A ação "Enviar" abre o seu cliente de e‑mail (Outlook, Gmail app, Thunderbird etc.) com o e‑mail já preenchido — você precisa confirmar o envio no seu cliente.</div>
  </div>

  <script>
    const target = 'EaeDoongg@gmail.com';
    const sendBtn = document.getElementById('send');
    const copyBtn = document.getElementById('copy');
    const clearBtn = document.getElementById('clear');
    const yourEmail = document.getElementById('yourEmail');
    const subjectEl = document.getElementById('subject');
    const messageEl = document.getElementById('message');

    function buildMailto(to, cc, subject, body){
      let parts = [];
      if(subject) parts.push('subject=' + encodeURIComponent(subject));
      if(body) parts.push('body=' + encodeURIComponent(body));
      if(cc) parts.push('cc=' + encodeURIComponent(cc));
      return 'mailto:' + encodeURIComponent(to) + (parts.length ? ('?' + parts.join('&')) : '');
    }

    sendBtn.addEventListener('click', ()=>{
      const subj = subjectEl.value.trim() || 'Relato do usuário';
      const body = messageEl.value.trim();
      const cc = yourEmail.value.trim() || '';
      if(!body){ alert('Escreva a mensagem antes de enviar.'); return; }
      // include reporter email inside the message to help tracking
      const fullBody = body + '\n\n---\nEnviado a partir da página local de demonstração.\n' + (cc ? ('Remetente (para resposta): ' + cc + '\n') : 'Remetente (não informado)\n');
      const mailto = buildMailto(target, cc, subj, fullBody);
      // open mail client — user must confirm send
      window.location.href = mailto;
    });

    copyBtn.addEventListener('click', async ()=>{
      const subj = subjectEl.value.trim() || 'Relato do usuário';
      const body = messageEl.value.trim();
      const full = 'Para: ' + target + '\nAssunto: ' + subj + '\n\n' + body;
      try{ await navigator.clipboard.writeText(full); copyBtn.textContent = 'Copiado!'; setTimeout(()=>copyBtn.textContent='Copiar',1200); }
      catch(e){ alert('Não foi possível copiar automaticamente. Faça manualmente.'); }
    });

    clearBtn.addEventListener('click', ()=>{ if(confirm('Limpar campos?')){ subjectEl.value = ''; messageEl.value = ''; yourEmail.value = ''; } });
  </script>
</body>
</html>
